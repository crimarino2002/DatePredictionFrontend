<div class="modal-header">
  <button mat-icon-button (click)="close()" aria-label="Close">
    <mat-icon>close</mat-icon>
  </button>
</div>

<mat-card class="modal-card">
  <mat-card-header>
    <mat-card-title>Customer {{ customerId }} - New Order</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="orderForm" class="modal-form">
      <div class="form-row">
        <mat-form-field appearance="outline">
          <input
            matInput
            placeholder="Empleado"
            formControlName="empName"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete
            #auto="matAutocomplete"
            (optionSelected)="onEmployeeSelected($event.option.value)"
          >
            <mat-option
              *ngFor="let e of employees$ | async"
              [value]="e"
            >
              {{ e.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Shipper*</mat-label>
          <input matInput type="number" formControlName="shipperId" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Ship Name</mat-label>
          <input matInput formControlName="shipName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Ship Address</mat-label>
          <input matInput formControlName="shipAddress" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Ship City</mat-label>
          <input matInput formControlName="shipCity" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Ship Country</mat-label>
          <input matInput formControlName="shipCountry" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Order Date</mat-label>
          <input matInput type="date" formControlName="orderDate" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Required Date</mat-label>
          <input matInput type="date" formControlName="requiredDate" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Shipped Date</mat-label>
          <input matInput type="date" formControlName="shippedDate" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Freight</mat-label>
          <input matInput type="number" formControlName="freight" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Product ID</mat-label>
          <input matInput type="number" formControlName="productId" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Unit Price</mat-label>
          <input matInput type="number" formControlName="unitPrice" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Quantity</mat-label>
          <input matInput type="number" formControlName="qty" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Discount</mat-label>
          <input matInput type="number" step="0.01" formControlName="discount" />
        </mat-form-field>
      </div>
    </form>
  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-button (click)="close()">Cancel</button>
    <button mat-raised-button color="primary" (click)="submit()">Save</button>
  </mat-card-actions>
</mat-card>